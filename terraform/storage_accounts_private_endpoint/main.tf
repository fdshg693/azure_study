# ============================================================================
# Storage Account Private Endpoint Configuration
# ============================================================================
# このディレクトリのTerraform設定は、プライベートエンドポイント経由で
# アクセス可能なAzure Storage Accountを構築します。
#
# ファイル構成:
# ============================================================================
# - main.tf (このファイル)
#   メインの設定ファイル。ファイル構成の説明を記載。
#
# - provider.tf
#   Azure プロバイダーの設定
#
# - variables.tf
#   入力変数の定義
#
# - outputs.tf
#   出力値の定義
#
# - resource_group.tf
#   リソースグループの定義
#
# - network.tf
#   ネットワークリソースの定義（VNet、サブネット、NSG）
#
# - storage_account.tf
#   Storage Accountの定義（セキュリティ設定を含む）
#
# - storage_blob.tf
#   Blobコンテナとサンプルファイルのアップロード
#
# - private_endpoint.tf
#   プライベートエンドポイントとPrivate DNS Zoneの定義
#
# - vm.tf
#   テスト用VMの定義（プライベートエンドポイント経由でのアクセステスト）
#
# ============================================================================
# 機能概要:
# ============================================================================
# 1. Virtual Network (VNet) の作成
#    - プライベートエンドポイント用サブネット
#    - VM配置用サブネット
#
# 2. Network Security Group (NSG) の作成
#    - VMへのSSH接続許可ルール
#
# 3. Storage Account の作成
#    - プライベートエンドポイント対応の設定
#    - Blobサービスのセキュリティ強化（versioning、soft delete等）
#
# 4. Private Endpoint の構築
#    - Storage AccountへのBlobサービス用プライベートエンドポイント
#    - Private DNS Zone の構築と VNet へのリンク
#
# 5. サンプルデータ
#    - Blobコンテナの作成
#    - サンプルファイルのアップロード
#
# ============================================================================
# セキュリティに関する注意事項:
# ============================================================================
# - プライベートエンドポイント経由での通信がデフォルト
# - パブリックエンドポイントへのアクセス制限は network_rules で管理
# - 本番環境では、より厳密なネットワークルール設定を推奨
# - SSH接続は IP アドレス制限を実施してください（現在は "*" に設定）
# - Shared Access Key の使用は最小限にしてください
#
# ============================================================================
# 使用方法:
# ============================================================================
# 1. 変数を定定義（terraform.dev.tfvars）
#    terraform apply -var-file="terraform.dev.tfvars"
#
# 2. デプロイ状況の確認
#    terraform show
#
# 3. リソースの削除
#    terraform destroy -var-file="terraform.dev.tfvars"
#
# ============================================================================
